<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>店家提示範例</title>
  <style>
    #store { width: 300px; padding: 8px; font-size: 20px; }
    #suggestions { border:1px solid #ccc; display:none; position:absolute; background:white; max-height:150px; overflow-y:auto; }
    #suggestions div { padding:5px; cursor:pointer; }
    #suggestions div:hover { background:#eee; }
  </style>
</head>
<body>
  <h2>輸入店家名稱，會即時提示</h2>
  <input type="text" id="store" placeholder="輸入或選擇店家">
  <div id="suggestions"></div>

  <script>
    // 模擬 GAS 回傳的 storeList
    const storeList = ["Big W", "Coles", "7-Eleven", "Family Mart", "U-Mart", "Union Shop"];
    const input = document.getElementById("store");
    const sugg = document.getElementById("suggestions");

    input.addEventListener("input", () => {
      const val = input.value.toLowerCase();
      sugg.innerHTML = "";
      if (!val) { sugg.style.display = "none"; return; }

      // 過濾 storeList
      const matches = storeList.filter(s => s.toLowerCase().includes(val));
      if (matches.length === 0) { sugg.style.display = "none"; return; }

      matches.forEach(m => {
        const div = document.createElement("div");
        div.textContent = m;
        div.onclick = () => { input.value = m; sugg.style.display = "none"; };
        sugg.appendChild(div);
      });

      // 顯示 suggestions
      sugg.style.display = "block";
      const rect = input.getBoundingClientRect();
      sugg.style.width = rect.width + "px";
      sugg.style.top = (rect.bottom + window.scrollY) + "px";
      sugg.style.left = (rect.left + window.scrollX) + "px";
    });
  </script>
</body>
</html>
